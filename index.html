<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#000000">
<title>Tinder</title>
<style>
/* Font (Github raw). fallback to system sans if blocked. */
@font-face {
  font-family: 'Gotham Rounded';
  src: local('GothamRnd-Book'), url('https://raw.githubusercontent.com/Arcanus09/Tinder/main/gothamrnd_book.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* base */
html,body {
  height: 100%;
  margin: 0;
  background: #000;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  font-family: 'Gotham Rounded', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  overflow: hidden; /* prevent background scrolling so fixed elements stay put */
}

/* Use the new mobile viewport unit to occupy full screen reliably */
:root {
  --app-height: 100svh;
  --btn-gap: 44px;
  --btn-size: 64px;
  --player-size: 34px;
  --safe-bottom: 12px; /* space from bottom edge */
}

.app {
  width: 100vw;
  height: var(--app-height);
  border-radius: 0;
  overflow: hidden;
  position: relative;
  background: #000;
}

/* Screens */
.screen {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0; left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.6s ease;
}
.screen.active {
  opacity: 1;
  pointer-events: all;
}

/* start */
.start-screen img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  border-radius: 20px;
}
.start-screen button {
  position: absolute;
  bottom: 18%;
  left: 50%;
  transform: translateX(-50%);
  width: 150px;
  height: 50px;
  background: transparent;
  border: none;
  cursor: pointer;
  z-index: 10;
}

/* profile */
.profile-screen {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
  flex-direction: column;
}

/* photos cover the full app area */
.profile-screen .photo {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; /* cover for full-bleed photo */
  opacity: 0;
  transition: opacity 0.5s ease;
  z-index: 1;
}
.profile-screen .photo.active {
  opacity: 1;
  z-index: 2;
}

/* Dots: centered horizontally, placed just above the player area (i.e., below the photo visually) */
.profile-screen .dots {
  position: fixed; /* fixed so it doesn't scroll */
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(var(--safe-bottom) + var(--btn-size) + 26px); /* above the player's vertical zone */
  z-index: 900;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: center;
}
.profile-screen .dot {
  width: 10px;
  height: 10px;
  background: rgba(255,255,255,0.5);
  border-radius: 50%;
  cursor: pointer;
  transition: background 0.2s ease;
}
.profile-screen .dot.active { background: #ff3860; }

/* Player on the left (fixed) */
.music-player {
  position: fixed;
  left: 16px;                 /* left side */
  bottom: calc(var(--safe-bottom) + var(--btn-size) + 10px);
  display: flex;
  gap: 12px;
  align-items: center;
  z-index: 1000;
}
.btn-player {
  width: var(--player-size);
  height: var(--player-size);
  background: none;
  border: none;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
}
.btn-player img { width: 100%; height: 100%; object-fit: contain; }
#btnPlay { display: none; }

/* heart and x below the app (fixed to very bottom) */
.profile-screen .buttons {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: var(--safe-bottom);
  display: flex;
  gap: var(--btn-gap);
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.profile-screen .btn {
  width: var(--btn-size);
  height: var(--btn-size);
  border-radius: 50%;
  border: none;
  background: none;
  padding: 0;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor: pointer;
}
.profile-screen .btn img { width: 100%; height: 100%; object-fit: contain; }

/* overlays */
.overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.75);
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-align: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease;
  z-index: 2000;
}
.overlay.active { opacity: 1; pointer-events: all; }
.overlay h2 { margin: 0 12px; font-size: 14px; line-height:1.3; max-width: 88%; }
.overlay p { margin-top:8px; font-size:14px; color:#ddd; }

/* responsive tweaks */
@media (max-width: 480px) {
  :root {
    --btn-size: 56px;
    --player-size: 30px;
    --btn-gap: 36px;
    --safe-bottom: 8px;
  }
  .music-player { left: 12px; bottom: calc(var(--safe-bottom) + var(--btn-size) + 8px); }
  .profile-screen .dots { bottom: calc(var(--safe-bottom) + var(--btn-size) + 18px); }
  .profile-screen .buttons { bottom: var(--safe-bottom); gap: var(--btn-gap); }
}

/* small helper to ensure overlays and fixed controls appear above photos */
.profile-screen .photo { -webkit-user-select: none; user-select: none; }
</style>
</head>
<body>
<div class="app">
  <!-- start -->
  <div class="screen start-screen active">
    <img src="https://i.imgur.com/76OUslu.jpeg" class="start-img" alt="start">
    <button id="btnStart" aria-label="Start"></button>
  </div>

  <!-- profile -->
  <div class="screen profile-screen">
    <img src="https://i.imgur.com/JwfRiY6.jpeg" class="photo active" alt="foto1">
    <img src="https://i.imgur.com/MbxKHEd.jpeg" class="photo" alt="foto2">
    <img src="https://i.imgur.com/sOeRyej.jpeg" class="photo" alt="foto3">

    <!-- player (left side) -->
    <div class="music-player" aria-hidden="false">
      <button id="btnPlay" class="btn-player" aria-label="Play">
        <img src="https://i.imgur.com/ac2Y8S0.png" alt="Play">
      </button>
      <button id="btnPause" class="btn-player" aria-label="Pause">
        <img src="https://i.imgur.com/cMwx0eN.png" alt="Pause">
      </button>
      <audio id="audio" src="https://www.dropbox.com/scl/fi/01b8qqoi7336k32ydltv0/SpotiDown.App-V-rias-Queixas-Gilsons.mp3?rlkey=zubr4q2dkh87f2vxryplosya1&st=fqmlaxf6&raw=1"></audio>
    </div>

    <!-- dots: centered below photo -->
    <div class="dots" role="tablist" aria-label="photo indicators">
      <span class="dot active" data-index="0" role="button" aria-label="Foto 1"></span>
      <span class="dot" data-index="1" role="button" aria-label="Foto 2"></span>
      <span class="dot" data-index="2" role="button" aria-label="Foto 3"></span>
    </div>

    <!-- heart and x: fixed at the very bottom -->
    <div class="buttons" role="group" aria-label="AÃ§Ãµes">
      <button id="btnNo" class="btn no" aria-label="NÃ£o">
        <img src="https://i.imgur.com/VsRMbeU.png" alt="X">
      </button>
      <button id="btnYes" class="btn yes" aria-label="Sim">
        <img src="https://i.imgur.com/86tjOQb.png" alt="CoraÃ§Ã£o">
      </button>
    </div>

    <div class="overlay lose">
      <h2>Clicando aqui vocÃª estaria perdendo a maior chance da sua vida ðŸ˜œ</h2>
    </div>
    <div class="overlay match">
      <h2>âœ¨ It's a Match! âœ¨</h2>
      <p>VocÃªs se curtiram! Ã“tima escolha ðŸ’•</p>
    </div>
  </div>
</div>

<script>
/* basic interactions (kept from your original) */
const btnStart = document.getElementById('btnStart');
const startScreen = document.querySelector('.start-screen');
const profileScreen = document.querySelector('.profile-screen');
const photos = document.querySelectorAll('.photo');
const dots = document.querySelectorAll('.dot');
const btnNo = document.getElementById('btnNo');
const btnYes = document.getElementById('btnYes');
const overlayLose = document.querySelector('.overlay.lose');
const overlayMatch = document.querySelector('.overlay.match');

let currentIndex = 0;

btnStart.addEventListener('click', () => {
  startScreen.classList.remove('active');
  profileScreen.classList.add('active');
  const audio = document.getElementById('audio');
  audio.play().catch(()=>{ console.log('autoplay bloqueado'); });
});

/* dots navigation */
dots.forEach(dot => {
  dot.addEventListener('click', () => {
    const index = Number(dot.dataset.index);
    showPhoto(index);
  });
});
function showPhoto(index) {
  if (index === currentIndex) return;
  photos[currentIndex].classList.remove('active');
  dots[currentIndex].classList.remove('active');
  photos[index].classList.add('active');
  dots[index].classList.add('active');
  currentIndex = index;
}

/* actions */
btnNo.addEventListener('click', () => {
  overlayLose.classList.add('active');
  setTimeout(()=> overlayLose.classList.remove('active'), 1800);
});
btnYes.addEventListener('click', () => {
  overlayMatch.classList.add('active');
  setTimeout(()=> {
    onMatchHappened({ name: 'Gabriel' });
  }, 600);
});

function onMatchHappened(matchUser) {
  try {
    localStorage.setItem('lastMatch', JSON.stringify({ name: matchUser && matchUser.name ? matchUser.name : null, ts: Date.now() }));
  } catch(e) { console.warn(e); }
  window.location.href = 'https://arcanus09.github.io/Linha-do-Tempo/';
}

/* player toggle */
const btnPlay = document.getElementById('btnPlay');
const btnPause = document.getElementById('btnPause');
const audio = document.getElementById('audio');

btnPlay.addEventListener('click', () => {
  audio.play();
  btnPlay.style.display = 'none';
  btnPause.style.display = 'flex';
});
btnPause.addEventListener('click', () => {
  audio.pause();
  btnPause.style.display = 'none';
  btnPlay.style.display = 'flex';
});

/* ensure initial button visibility based on audio state */
if (!audio.paused) {
  btnPlay.style.display = 'none';
  btnPause.style.display = 'flex';
} else {
  btnPlay.style.display = 'none'; /* keep hidden so pause shows by default; user can toggle after starting */
}
</script>
</body>
</html>
