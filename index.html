<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tinder Immersion Pack — Fran & Gabriel</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
/* Tela de carregamento */
#loadingScreen {
  position: fixed;
  inset: 0;
  background: var(--bg);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center; /* garante que tudo fique centralizado */
  z-index: 9999;
  transition: opacity 1s ease, visibility 1s ease;
}

#loadingScreen.hide {
  opacity: 0;
  visibility: hidden;
}

.loading-logo {
  max-width: 120px;
  height: auto;
  animation: float 2s ease-in-out infinite alternate;
}

.loading-text {
  color: #fff;
  font-family: 'GothamRnd', sans-serif;
  font-size: 1rem;
  margin-top: 16px;
  opacity: 0.85;
  animation: blink 1.6s infinite;
  text-align: center; /* reforça o alinhamento */
}

@keyframes float {
  from { transform: translateY(0); }
  to { transform: translateY(-8px); }
}

@keyframes blink {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}
@font-face {
  font-family: 'GothamRnd';
  src: url('https://cdn.jsdelivr.net/gh/Arcanus09/Tinder/gothamrnd_book.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
}
    :root {
      --bg: #0f1724;        /* fundo sólido */
      --card: #0b1220;
      --accent: #ff4d6d;
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.04);
      --max-width: 720px;
    }

    * { box-sizing: border-box; }
    html,
body {
  font-family: 'GothamRnd', sans-serif;
  color: #e6eef8;
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
}


    /* Header */
header {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;          /* sem espaço interno */
  margin: 0;           /* sem margem externa */
  background: var(--bg);
  border: none;        /* remove linha inferior */
}

header img {
  display: block;
  margin: 0;           /* remove espaço em cima e embaixo */
  max-width: 220px;
  height: auto;
}

    /* Layout */
main {
  max-width: var(--max-width);
  margin: 0 auto;      /* remove espaço entre logo e card */
  padding-top: 4px;    /* opcional: distância mínima entre logo e card */
  display: flex;
  justify-content: center;
}

    /* Card */
    .card {
      width: 100%;
      max-width: 400px;
      background: var(--card);
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      position: relative;
      border: 1px solid rgba(255,255,255,0.03);
    }

    /* Foto retrato */
    .card .photo {
      width: 100%;
      aspect-ratio: 3 / 4; 
      background-size: cover;
      background-position: center;
      border-radius: 12px 12px 0 0;
    }

    /* Meta info */
    .card .meta {
      padding: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-top: 1px solid rgba(255,255,255,0.02);
    }
    .bio { color: var(--muted); font-size: 14px; }
 .controls {
  display: flex;
  justify-content: space-between; /* separa os botões */
  padding: 12px 24px;
}

.btn {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 28px;
  cursor: pointer;
  border: none;
  transition: transform 0.2s;
}

.btn:hover {
  transform: scale(1.15);
}

.btn.x { background: #1e1e1e; color: #ff6a85; }
.btn.reverse { background: #1e1e1e; color: #fdd835; }
.btn.star { background: #1e1e1e; color: #5dc1ff; }
.btn.heart { background: #1e1e1e; color: #ff4d6d; }

    /* Bolinhas de navegação */
    .photo-dots {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .photo-dots .dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
      cursor: pointer;
      transition: all 0.3s;
    }
    .photo-dots .dot.active {
      background: var(--accent);
      transform: scale(1.2);
    }

    /* Modal Match */
    .matchOverlay {
      position: absolute; inset: 0;
      background: rgba(0,0,0,0.6);
      display: flex; align-items: center; justify-content: center;
      backdrop-filter: blur(4px);
      opacity: 0; pointer-events: none;
      transition: all .36s;
    }
    .matchOverlay.show { opacity: 1; pointer-events: auto; }
    .matchCard {
      background: var(--glass);
      padding: 20px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.06);
      text-align: center;
      width: 90%;
      max-width: 320px;
    }
    .matchCard h2 { margin: 0 0 6px; font-size: 20px; }
    .matchRow { display: flex; gap: 10px; align-items: center; justify-content: center; margin: 12px 0; }
    .matchRow img { width: 72px; height: 72px; border-radius: 10px; object-fit: cover; border: 2px solid #fff; }

    /* Responsivo */
    @media(max-width:480px){
      .card { max-width: 90vw; }
      .card .photo { aspect-ratio: 2 / 3; }
    }
.music-profile {
  position: relative;
  width: 100%;
  max-width: 100px; /* define largura menor */
  margin: 12px 0;   /* espaço entre descrição e capa */
  white-space: nowrap; /* evita quebra de linha */

}
.album-container {
  position: relative;
  width: 100px; /* largura igual à altura da capa */
  height: 100px; /* capa menor */
  flex-shrink: 0; /* evita encolher */
  border-radius: 12px;
  overflow: hidden;
}

.album-cover {
  width: 100%;
  height: 100%;
  object-fit: cover; /* mantém proporção da imagem */
  display: block;
  border-radius: 12px;
}

.album-text-container {
  display: flex;
  align-items: center; /* centraliza verticalmente */
  gap: 12px; /* espaço entre capa e texto */
}

.album-text {
  display: flex;
  flex-direction: column;
  justify-content: center; /* centraliza verticalmente */
}

.album-title {
  font-weight: 700;
  font-size: 14px;
  line-height: 1.2;
}

.album-artist {
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 4px;
}

.spotify-link {
  font-size: 12px;
  color: #1DB954; /* verde Spotify */
  text-decoration: none;
  font-weight: 700; /* muda para negrito */
}

.spotify-link:hover {
  text-decoration: underline;
}

/* Botões de play/pause sobre a capa continuam do mesmo jeito */
.btn-player {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80px; /* ajustado ao tamanho menor */
  height: 80px;
  border: none;
  background: transparent; /* sem cor de fundo */
  border: none;            /* sem borda */
  border-radius: 0;        /* opcional: remove o círculo */
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

.btn-player img {
  width: 60%;
  height: 60%;
  object-fit: contain;
}

#btnPause {
  display: none; /* inicia oculto */
}
/* === LOGIN SCREEN STYLES (cole no final do <style>) === */
.login-screen {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle, rgba(0,0,0,0.75), rgba(0,0,0,0.85));
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10001; /* acima do loadingScreen */
  opacity: 0;
  pointer-events: none;
  transition: opacity .28s ease;
}

.login-screen.show {
  opacity: 1;
  pointer-events: all;
}

.login-card {
  width: min(360px, 92vw);
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border-radius: 14px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(2,6,23,0.6);
  border: 1px solid rgba(255,255,255,0.04);
}

.login-logo {
  width: 120px;
  height: auto;
  display: block;
  margin: 6px auto 8px;
}

.login-title {
  margin: 6px 0 12px;
  font-size: 18px;
  color: #e6eef8;
  font-weight: 700;
}

.login-input {
  width: 100%;
  padding: 10px 12px;
  margin: 8px 0;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.02);
  color: #e6eef8;
  outline: none;
  font-size: 14px;
  font-family: 'GothamRnd', sans-serif;
}

.login-input::placeholder { color: rgba(230,238,248,0.45); }

.login-btn {
  width: 100%;
  padding: 10px 12px;
  margin-top: 10px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  background: linear-gradient(90deg,#ff6a85,#ff4d6d);
  color: #fff;
  font-weight: 700;
  font-family: 'GothamRnd', sans-serif;
}

.login-error {
  margin-top: 6px;
  color: #ffb3b9;
  font-size: 13px;
  background: rgba(255,77,109,0.06);
  padding: 8px;
  border-radius: 8px;
  border: 1px solid rgba(255,77,109,0.08);
}

/* screen-reader helper (opcional) */
.sr-only { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px,1px,1px,1px); white-space: nowrap; }

/* Oculta tudo até o login ser feito */
body.locked main,
body.locked header {
  display: none !important;
}

/* ===== TINDER-LIKE CONTROLS & EFFECTS ===== */
.tinder-controls {
  display: flex;
  justify-content: center;
  gap: 16px;
  margin-top: 12px;
}

/* botão base (visual limpo, sem fundo rosa) */
.tinder-btn {
  width: 64px;
  height: 64px;
  border-radius: 999px;
  border: none;
  background: #0f1724; /* escuro, discreto */
  box-shadow: 0 6px 18px rgba(2,6,23,0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  color: rgba(230,238,248,0.92);
  transition: transform .18s ease, box-shadow .18s ease;
  cursor: pointer;
}

/* hover/press visuals (subtle) */
.tinder-btn:hover { transform: translateY(-4px) scale(1.03); }
.tinder-btn:active { transform: translateY(-2px) scale(.98); }

/* cores por tipo (ícone colorido ao invés do fundo rosa fixo) */
.tinder-btn.nope i { color: #ff4d6d; }         /* vermelho */
.tinder-btn.like i { color: #ff4d6d; }         /* rosa cor do like */
.tinder-btn.superlike i { color: #1e88e5; }    /* azul */
.tinder-btn.rewind i { color: #ffd24d; }       /* amarelo */

/* CONTAINER DE EFEITOS (ocupa o card, é absoluta dentro do .card) */
.effect-container {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 120; /* acima do conteúdo do card */
}

/* EFEITO: ícones que "explodem" subindo */
.effect-icon {
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(0) scale(.8);
  opacity: 0;
  font-size: 28px;
  text-shadow: 0 6px 14px rgba(2,6,23,0.6);
  animation: iconExplode 1400ms cubic-bezier(.2,.9,.3,1) forwards;
}

@keyframes iconExplode {
  0% { opacity: 1; transform: translateX(-50%) translateY(0) scale(.85); }
  40% { transform: translateX(-50%) translateY(-22px) scale(1.08); opacity: 1; }
  100% { transform: translateX(-50%) translateY(-86px) scale(1.25); opacity: 0; }
}

/* === SUPERLIKE: estrela e glow === */
.superlike-star {
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(20px) scale(0);
  bottom: 84px;               /* altura acima da área da meta */
  width: 96px;
  height: 96px;
  background-image: url("https://www.pinclipart.com/picdir/big/569-5694235_like-o-superlike-en-tinder-clipart.png");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  z-index: 125;
  pointer-events: none;
  animation: superStarPop 1800ms cubic-bezier(.2,.9,.25,1) forwards;
  filter: drop-shadow(0 12px 20px rgba(14,94,151,0.25));
}

/* animação da estrela (entra e some levemente) */
@keyframes superStarPop {
  0% { transform: translateX(-50%) translateY(40px) scale(.2); opacity: 0; }
  45% { transform: translateX(-50%) translateY(-8px) scale(1.18); opacity: 1; }
  100% { transform: translateX(-50%) translateY(-24px) scale(1); opacity: 0; }
}

/* glow azul que aparece na base do card */
.superlike-glow {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 0;
  width: 110%;
  height: 42%;
  max-height: 120px;
  background: radial-gradient(circle at 50% 10%, rgba(30,136,229,0.45), rgba(30,136,229,0.18) 30%, transparent 60%);
  border-radius: 0 0 20px 20px;
  z-index: 122;
  pointer-events: none;
  animation: glowRise 1800ms cubic-bezier(.15,.9,.25,1) forwards;
  opacity: 0;
}

@keyframes glowRise {
  0% { opacity: 0; transform: translateX(-50%) translateY(12px) scale(.9); }
  40% { opacity: 1; transform: translateX(-50%) translateY(0) scale(1.02); }
  100% { opacity: 0; transform: translateX(-50%) translateY(-8px) scale(1.1); }
}

/* util: pequenas variações posicionais aleatórias */
.effect-offset-1 { left: 30%; }
.effect-offset-2 { left: 70%; }
.effect-offset-3 { left: 20%; }
.effect-offset-4 { left: 80%; }
/* ===== FLASH LABELS (NOPE / LIKE / SUPERLIKE / REWIND) ===== */
.flash-label {
  position: absolute;
  top: 16%;
  left: 50%;
  transform: translate(-50%, -50%) scale(.98);
  padding: 10px 26px;
  font-size: 56px;
  font-weight: 900;
  letter-spacing: 2px;
  text-transform: uppercase;
  border: 6px solid transparent;
  border-radius: 12px;
  opacity: 0;
  z-index: 130;
  pointer-events: none;
  background: rgba(255,255,255,0.02); /* MUITO sutil — pode remover se quiser totalmente transparente */
  transition: transform .28s ease, opacity .28s ease;
  filter: drop-shadow(0 8px 20px rgba(0,0,0,0.55));
}

/* sem fundo sólido — só borda e cor do texto */
.flash-label.show { opacity: 1; transform: translate(-50%,-50%) scale(1.06); }

/* cores (sem preenchimento rosa) */
.flash-label.nope { color: #ff1744; border-color: rgba(255,23,68,0.12); }
.flash-label.like { color: #ff4d6d; border-color: rgba(255,77,109,0.12); }
.flash-label.superlike { color: #00b0ff; border-color: rgba(0,176,255,0.12); }
.flash-label.reverse { color: #ffd24d; border-color: rgba(255,210,77,0.12); }

/* anima saída suave */
.flash-label.flyOut {
  transform: translate(calc(-50% + var(--moveX, 160px)),-50%) scale(1.2);
  opacity: 0;
  transition: transform .9s cubic-bezier(.2,.9,.25,1), opacity .5s linear;
}

/* ===== Particle hearts (like) ===== */
.particle-heart {
  position: absolute;
  bottom: 110px; /* nasce acima da área de meta */
  font-size: 14px;
  opacity: 0;
  transform: translateY(0) scale(.8);
  z-index: 135;
  animation: heartFloat 2000ms cubic-bezier(.2,.9,.25,1) forwards;
  text-shadow: 0 6px 16px rgba(0,0,0,0.45);
}

@keyframes heartFloat {
  0% { opacity: 0; transform: translateY(0) scale(.8); }
  10% { opacity: 1; transform: translateY(-6px) scale(1.06); }
  50% { transform: translateY(-48px) scale(1.06); opacity: 1; }
  100% { transform: translateY(-110px) scale(.9); opacity: 0; }
}

/* ===== efeito de ícones já existente (pequena refinada) ===== */
.effect-icon { font-size: 28px; text-shadow: 0 6px 14px rgba(2,6,23,0.6); animation: iconExplode 700ms cubic-bezier(.2,.9,.3,1) forwards; }
@keyframes iconExplode { 0% { opacity: 1; transform: translateY(0) scale(.85);} 40%{ transform: translateY(-22px) scale(1.08);} 100%{ transform: translateY(-86px) scale(1.25); opacity:0;} }

/* ===== garante que superlike já esteja ok (mantive) ===== */
/* .superlike-star, .superlike-glow — você já tem estas classes no CSS anterior. */
  </style>
</head>
<body>
<!-- Tela de carregamento -->
<div id="loadingScreen">
  <div class="loading-content">
    <img src="https://static.vecteezy.com/system/resources/previews/023/986/672/non_2x/tinder-app-logo-tinder-app-logo-transparent-tinder-app-icon-transparent-free-free-png.png" alt="Logo Tinder" class="loading-logo">
    <p class="loading-text">Carregando...</p>
  </div>
</div>
<!-- Header -->
<header>
    <img src="https://i.imgur.com/9Ksj1hK.png" alt="Logo Tinder">
  </header>
<!-- LOGIN SCREEN: cole logo após o loadingScreen -->
<div id="loginScreen" class="login-screen">
  <div class="login-card" id="loginCard" role="dialog" aria-label="Tela de login">
    <img src="https://i.imgur.com/9Ksj1hK.png" alt="Logo" class="login-logo">

    <form id="loginForm" autocomplete="off">
      <label for="loginEmail" class="sr-only">Email</label>
      <input id="loginEmail" class="login-input" type="email" placeholder="Email" required>

      <label for="loginPassword" class="sr-only">Senha</label>
      <input id="loginPassword" class="login-input" type="password" placeholder="Senha" required>

      <div id="loginError" class="login-error" aria-live="polite" hidden>
        Email ou senha incorretos.
      </div>

      <button type="submit" class="login-btn">Entrar</button>
    </form>

  </div>
</div>
<!-- fim login screen -->
  <!-- Main -->
  <main>
    <div class="card" id="tinderCard">
      <div class="photo" id="cardPhoto" style="background-image:url('https://i.imgur.com/XWo2fK7.jpeg')"></div>
<!-- CONTAINER DE EFEITOS (adicione logo após a div.photo) -->
<div id="effectContainer" class="effect-container" aria-hidden="true"></div>
<div class="meta">
  <div>
    <div style="display:flex;align-items:center;gap:8px;font-weight:700">
      Fran, 26
      <div class="photo-dots" id="photoDots"></div>
    </div>
    <div class="bio">Gamer, apaixonada por 8-bit e cafés quentinhos. Procura jogador pra vida.</div>

    <!-- Música: mover para cá, logo abaixo da bio -->
   <div class="music-profile">
  <div class="album-text-container">
    <div class="album-container">
      <img src="https://i.imgur.com/2ObStUN.jpeg" alt="Capa do Álbum" class="album-cover">
      <button class="btn-player" id="btnPlay">
        <img src="https://i.imgur.com/ac2Y8S0.png" alt="Play">
      </button>
      <button class="btn-player" id="btnPause">
        <img src="https://i.imgur.com/cMwx0eN.png" alt="Pause">
      </button>
    </div>
    <div class="album-text">
      <div class="album-title">Várias Queixas</div>
      <div class="album-artist">Gilsons</div>
      <a href="https://open.spotify.com/intl-pt/track/5HFvMPiNjclAq8DbEAPWMw?si=593335ab41624133" target="_blank" class="spotify-link">Play on Spotify</a>
    </div>
  </div>
  <audio id="audio" src="https://www.dropbox.com/scl/fi/01b8qqoi7336k32ydltv0/SpotiDown.App-V-rias-Queixas-Gilsons.mp3?rlkey=zubr4q2dkh87f2vxryplosya1&st=fqmlaxf6&raw=1"></audio>
</div>
<!-- ==== CONTROLES DO TINDER (SUBSTITUIR AQUI) ==== -->
<div class="tinder-controls">
  <button class="tinder-btn rewind" id="btnReverse" aria-label="Rewind">
    <i class="fa-solid fa-undo"></i>
  </button>

  <button class="tinder-btn nope" id="btnX" aria-label="Nope">
    <i class="fa-solid fa-xmark"></i>
  </button>

  <button class="tinder-btn superlike" id="btnStar" aria-label="Superlike">
    <i class="fa-solid fa-star"></i>
  </button>

  <button class="tinder-btn like" id="btnHeart" aria-label="Like">
    <i class="fa-solid fa-heart"></i>
  </button>
</div>
      <!-- Modal Match -->
      <div class="matchOverlay" id="matchOverlay">
        <div class="matchCard">
          <h2>💫 It's a match! 💫</h2>
          <div class="matchRow">
            <img src="https://via.placeholder.com/150/FFB6C1/000000?text=Fran" alt="Fran">
            <img src="https://via.placeholder.com/150/87CEFA/000000?text=Gabriel" alt="Gabriel">
          </div>
          <p style="color:var(--muted)">"Desde o primeiro match, eu já sabia."</p>
          <div style="display:flex;gap:8px;justify-content:center;margin-top:10px">
            <button class="btn heart" id="openChat">Ver mensagens</button>
            <button class="btn x" id="closeMatch">Fechar</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Scripts -->
  <script>
document.body.classList.add('locked'); // 🔒 trava o app até o login

    const photos = [
      "https://i.imgur.com/XWo2fK7.jpeg",
      "https://i.imgur.com/oKl6OPF.jpeg",
      "https://i.imgur.com/vHgdGsW.jpeg"
    ];
    let currentPhoto = 0;
    const cardPhoto = document.getElementById('cardPhoto');
    const dotsContainer = document.getElementById('photoDots');

    // Bolinhas
    photos.forEach((_, i) => {
      const dot = document.createElement('div');
      dot.className = 'dot' + (i === 0 ? ' active' : '');
      dot.addEventListener('click', () => {
        currentPhoto = i;
        updatePhoto();
      });
      dotsContainer.appendChild(dot);
    });

    function updatePhoto() {
      cardPhoto.style.backgroundImage = `url('${photos[currentPhoto]}')`;
      const dots = dotsContainer.querySelectorAll('.dot');
      dots.forEach((d, i) => d.classList.toggle('active', i === currentPhoto));
    }
// ==== SWIPE DRAG ====
let startX = 0;
let currentX = 0;
let isDragging = false;

// quando começa o clique ou toque
cardPhoto.addEventListener('mousedown', startDrag);
cardPhoto.addEventListener('touchstart', startDrag);

function startDrag(e) {
  isDragging = true;
  startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
  cardPhoto.style.transition = 'none'; // remove transição pra seguir o mouse
}

// enquanto arrasta
cardPhoto.addEventListener('mousemove', drag);
cardPhoto.addEventListener('touchmove', drag);

function drag(e) {
  if (!isDragging) return;
  currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
  const diff = currentX - startX;
  cardPhoto.style.transform = `translateX(${diff}px)`; // move a foto junto
}

// quando solta
cardPhoto.addEventListener('mouseup', endDrag);
cardPhoto.addEventListener('touchend', endDrag);

function endDrag(e) {
  if (!isDragging) return;
  isDragging = false;
  const diff = currentX - startX;
  const threshold = 80; // distância mínima para trocar de foto

  cardPhoto.style.transition = 'transform 0.3s ease'; // anima de volta se não trocar

  if(diff > threshold){
    // arrastou pra direita → foto anterior
    currentPhoto = (currentPhoto - 1 + photos.length) % photos.length;
    updatePhoto();
    cardPhoto.style.transform = 'translateX(0)'; // volta pro centro
  } else if(diff < -threshold){
    // arrastou pra esquerda → próxima foto
    currentPhoto = (currentPhoto + 1) % photos.length;
    updatePhoto();
    cardPhoto.style.transform = 'translateX(0)'; // volta pro centro
  } else {
    // não ultrapassou threshold → volta pro centro
    cardPhoto.style.transform = 'translateX(0)';
  }
}

  // Mantém a tela de carregamento por 20 segundos
window.addEventListener('load', () => {
  const audio = document.getElementById('audio');
  const btnPlay = document.getElementById('btnPlay');
  const btnPause = document.getElementById('btnPause');
  const loadingScreen = document.getElementById('loadingScreen');

  // Esconde a tela de carregamento
  loadingScreen.classList.add('hide');
  setTimeout(() => { loadingScreen.remove(); }, 2000);

  function startMusic() {
    audio.play().then(() => {
      btnPlay.style.display = 'none';
      btnPause.style.display = 'flex';
    }).catch(() => console.log('Autoplay bloqueado até interação.'));
  }

  btnPlay.addEventListener('click', () => {
    audio.play();
    btnPlay.style.display = 'none';
    btnPause.style.display = 'flex';
  });

  btnPause.addEventListener('click', () => {
    audio.pause();
    btnPause.style.display = 'none';
    btnPlay.style.display = 'flex';
  });

  audio.onplay = () => { btnPlay.style.display = 'none'; btnPause.style.display = 'flex'; };
  audio.onpause = () => { btnPause.style.display = 'none'; btnPlay.style.display = 'flex'; };
});
/* ===== NOVOS HANDLERS & EFEITOS (COLE NO LUGAR DO BLOCO ANTIGO) ===== */
const btnX = document.getElementById('btnX');
const btnStar = document.getElementById('btnStar');
const btnHeart = document.getElementById('btnHeart');
const btnReverse = document.getElementById('btnReverse');
const effectContainerEl = document.getElementById('effectContainer');
const cardEl = document.getElementById('tinderCard');
const matchOverlay = document.getElementById('matchOverlay');

/* cria e mostra o flash label (NOPE/LIKE/REWIND/SUPERLIKE) */
function showFlashLabel(type, moveX = 0) {
  const label = document.createElement('div');
  label.className = `flash-label ${type}`;
  label.textContent = type === 'like' ? 'LIKE' : type === 'nope' ? 'NOPE' : type === 'superlike' ? 'SUPER\nLIKE' : 'REWIND';
  // se superlike quiser duas linhas, ajusta
  label.style.whiteSpace = type === 'superlike' ? 'pre' : 'nowrap';
  // posiciona centralizado
  cardEl.appendChild(label);
  // força reflow e mostra
  void label.offsetWidth;
  label.classList.add('show');
  // define movimento personalizado se precisar
  label.style.setProperty('--moveX', (moveX || (type === 'nope' ? -160 : (type === 'like' ? 160 : 0))) + 'px');

  // saída automática
  setTimeout(() => {
    label.classList.add('flyOut');
    setTimeout(() => label.remove(), 700);
  }, 600);
}

/* spawn de pequenos ícones (fa icons) que sobem e somem */
function spawnIcon(iconClass, color, leftPercent = 50, size = 28) {
  const i = document.createElement('i');
  i.className = `fa-solid ${iconClass} effect-icon`;
  i.style.color = color;
  i.style.left = leftPercent + '%';
  i.style.fontSize = size + 'px';
  effectContainerEl.appendChild(i);
  // cleanup
  setTimeout(() => i.remove(), 850);
}

/* spawn de partículas de coração (para like) */
function spawnHearts(count = 6) {
  for (let k=0;k<count;k++){
    const h = document.createElement('i');
    h.className = 'fa-solid fa-heart particle-heart';
    // variação horizontal aleatória
    const left = 40 + Math.random()*30; // 40%..70%
    h.style.left = left + '%';
    h.style.color = '#ff6a85';
    h.style.fontSize = (10 + Math.round(Math.random()*10)) + 'px';
    // delay stagger para cada coração
    h.style.animationDelay = (k * 80) + 'ms';
    effectContainerEl.appendChild(h);
    setTimeout(()=> { try{ h.remove(); } catch(e){}; }, 1400 + k*80);
  }
}

/* util: animações do card com WAAPI */
function animateCard(keyframes, opts) {
  try { cardEl.animate(keyframes, opts); } catch(e) {}
}

/* ---------- BUTTON HANDLERS ---------- */

/* X (NOPE) */
btnX && btnX.addEventListener('click', () => {
  showFlashLabel('nope');                     // label borda vermelha
  spawnIcon('fa-xmark', '#ff1744', 32, 34);   // ícone que sobe
  // shake / pequeno toss
  animateCard([
    { transform: 'translateX(0) rotate(0deg)' },
    { transform: 'translateX(-24px) rotate(-8deg)' },
    { transform: 'translateX(16px) rotate(6deg)' },
    { transform: 'translateX(0) rotate(0deg)' }
  ], { duration: 420, easing: 'cubic-bezier(.2,.9,.2,1)'});
});

/* Heart (LIKE) */
btnHeart && btnHeart.addEventListener('click', () => {
  showFlashLabel('like');
  spawnIcon('fa-heart', '#ff4d6d', 68, 34);
  spawnHearts(7);
  // zoom curto
  animateCard([
    { transform: 'scale(1)' },
    { transform: 'scale(1.06)' },
    { transform: 'scale(1)' }
  ], { duration: 420, easing: 'cubic-bezier(.2,.9,.2,1)'});
  // opcional: abrir match overlay (comente se não quiser automaticamente)
  // matchOverlay.classList.add('show');
});

/* Rewind (REVERSE) */
btnReverse && btnReverse.addEventListener('click', () => {
  showFlashLabel('reverse');
  spawnIcon('fa-undo', '#ffd24d', 52, 30);
  animateCard([
    { transform: 'translateY(0) rotate(0deg)' },
    { transform: 'translateY(-14px) rotate(-2deg)' },
    { transform: 'translateY(0) rotate(0deg)' }
  ], { duration: 420, easing: 'cubic-bezier(.2,.9,.2,1)'});
});

/* Superlike (STAR) */
btnStar && btnStar.addEventListener('click', () => {
  showFlashLabel('superlike');
  spawnIcon('fa-star', '#00b0ff', 62, 30);

  const star = document.createElement('div');
  star.className = 'superlike-star';
  effectContainerEl.appendChild(star);

  const glow = document.createElement('div');
  glow.className = 'superlike-glow';
  cardEl.appendChild(glow);

  // força reflow
  void star.offsetWidth;
  void glow.offsetWidth;

  setTimeout(()=> { try{ star.remove(); } catch(e){}; try{ glow.remove(); } catch(e){}; }, 1100);
});
/* === LOGIN LOGIC: cole no final do seu <script> === */
(function(){
  // credenciais que você quer aceitar — troque aqui
  const REAL_EMAIL = "biells@hotmail.com";
  const REAL_PASSWORD = "02112024";

  const loadingScreen = document.getElementById('loadingScreen');
  const loginScreen = document.getElementById('loginScreen');
  const loginForm = document.getElementById('loginForm');
  const loginError = document.getElementById('loginError');
  const loginCard = document.getElementById('loginCard');

  // função para mostrar o login (chame depois do loading)
  function showLogin() {
    loginScreen.classList.add('show');
    // foco no input email para acessibilidade
    const emailInput = document.getElementById('loginEmail');
    if(emailInput) emailInput.focus();
  }

  // função para esconder login e liberar app
function hideLoginAndShowApp() {
  loginScreen.classList.remove('show');
  document.body.classList.remove('locked'); // <- libera o app
  const headerEl = document.querySelector('header');
  if(headerEl) headerEl.style.display = 'flex';
  setTimeout(()=>{ try { loginScreen.remove(); } catch(e){} }, 400);

  // ✅ Inicia a música ao fazer login
  const audio = document.getElementById('audio');
  if (audio) audio.play();
}

  // exemplo: assim que o loading terminar (coloque o seu tempo aqui)
  // se você já chama loadingScreen.classList.add('hide') em outro ponto, substitua por showLogin()
  window.addEventListener('load', () => {
    // se você já remove o loadingScreen em outro ponto, apenas invoque showLogin()
    // aqui: espera 2s e mostra a tela de login
    setTimeout(() => {
      // oculta loadingScreen visualmente (se ainda estiver)
      if(loadingScreen) loadingScreen.classList.add('hide');
      showLogin();
    }, 2000); // <- alterar para o tempo que quiser (2000 = 2s)
  });

  // submissão do formulário
  loginForm.addEventListener('submit', (ev) => {
    ev.preventDefault();
    const email = document.getElementById('loginEmail').value.trim();
    const pass  = document.getElementById('loginPassword').value;

    // validação simples
    if(email === REAL_EMAIL && pass === REAL_PASSWORD) {
      // sucesso
      loginError.hidden = true;
      hideLoginAndShowApp();
      // opcional: iniciar música/estado do app aqui se precisar
    } else {
      // erro: mostra mensagem
      loginError.hidden = false;
      // pequeno shake visual na caixa
      loginCard.animate([
        { transform: 'translateX(0)' },
        { transform: 'translateX(-6px)' },
        { transform: 'translateX(6px)' },
        { transform: 'translateX(0)' }
      ], { duration: 350, easing: 'ease-in-out' });
    }
  });

  // permitir login também ao pressionar Enter nos inputs (já coberto pelo form)
})();
  </script>
</body>
</html>
